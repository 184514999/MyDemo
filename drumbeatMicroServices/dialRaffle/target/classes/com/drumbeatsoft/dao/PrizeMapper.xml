<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.drumbeatsoft.dao.PrizeMapper">
    <insert id="save" parameterType="com.drumbeatsoft.model.Prize" keyProperty="prizeId">
          insert into prize (
              PrizeId,
              ActivityId,
              Something,
              Name,
              Counts,
              Level,
              Weight,
              CreateUserId,
              CreateUserName,
              ModifyUserId,
              ModifyUserName,
              CompanyId
          ) values (
              #{prizeId},
              #{activityId},
              #{something},
              #{name},
              #{counts},
              #{level},
              #{weight},
              #{createUserId},
              #{createUserName},
              #{modifyUserId},
              #{modifyUserName},
              #{companyId}
          )
    </insert>


    <select id="findPrizeByActivityId" parameterType="String" resultType="com.drumbeatsoft.model.Prize">
        select * from prize where ActivityId = #{activityId} and Counts > 0 and Weight > 0
    </select>

    <select id="findAllPrizeByActivityId" parameterType="String" resultType="com.drumbeatsoft.model.Prize">
        select * from prize where ActivityId = #{activityId}
    </select>

    <update id="updateCounts" parameterType="com.drumbeatsoft.model.Prize">
        update prize set counts = #{counts} where PrizeId = #{prizeId}
    </update>

    <update id="update" parameterType="com.drumbeatsoft.model.Prize">
        update prize set
          something = #{something},
          name = #{name},
          counts = #{counts},
          level = #{level},
          weight = #{weight},
          modifyUserId = #{modifyUserId},
          modifyUserName = #{modifyUserName}
        where PrizeId = #{prizeId}
    </update>

    <delete id="deleteById" parameterType="String">
        delete from prize where PrizeId = #{prizeId}
    </delete>

    <select id="findAll" resultType="com.drumbeatsoft.model.Prize">
        select * from prize
    </select>

    <select id="findById" resultType="com.drumbeatsoft.model.Prize">
        select * from prize where PrizeId = #{prizeId}
    </select>

</mapper>